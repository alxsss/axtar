<?php



/**
 * Skeleton subclass for representing a row from the 'xeber_comment' table.
 *
 *
 *
 * This class was autogenerated by Propel 1.6.7 on:
 *
 * Thu Feb 25 00:46:24 2016
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    propel.generator.lib.model
 */
class XeberComment extends BaseXeberComment
{
  //override xeberComment's save function to increment num_comment valuer in xeber_num_comment table
  public function save1($id,$title)
  {
    $ret = parent::save();
    $num_comment=0;
    //update num_comment column in xeber_num_comment table
    $c=new Criteria();
    $c->add(XeberNumCommentPeer::XEBER_ID, $id);
    $xeber_num_comment=XeberNumCommentPeer::doSelectOne($c);
    if(!is_object($xeber_num_comment))
    {
      $xeber_num_comment=new XeberNumComment();
    }
    else
    { 
      $num_comment = $xeber_num_comment->getNumComment();
    }
    
    $xeber_num_comment->setNumComment($num_comment + 1);
    $xeber_num_comment->setXeberId($id);
    $xeber_num_comment->setXeberTitle($title);
    $xeber_num_comment->save();
    return $ret;
 }

}
